## 제네릭(Generic)

### 1. 제네릭 컬렉션 

- **Object**는 가장 일반적인 타입으로 모든 자식 객체를 다 저장할 수 있다.
- 그러나 선언 타입과 실제 저장하는 타입이 일치하지 않아 여러 가지 불편과 위험이 따른다.
- 타입 불일치에 의한 캐스팅의 불편과 잘못된 캐스팅으로 인한 위험을 제거하기 위해 자바 5에 새로 등장한 개념이 **제네릭**이다.
- **제네릭(Generic)**은 클래스를 인수화하여 임의의 타입에 대해 동작하는 일반적인 알고리즘을 구현한다.
- `GenArrayList.java` 파일에서 볼 수 있듯이, arNum 객체를 `ArrayList<Integer>` 타입으로 생성해 정수형만 저장한다는 것을 명시한다.
  - 이 배열에는 정수형만 저장할 수 있으며 다른 타입의 데이터를 저장하면 컴파일 타임에 에러 처리된다.
- 제네릭의 타입 인수는 참조형만 가능하여 int 타입 대신 Integer 타입을 사용한다. 

<br>

- 컬렉션에 어떤 데이터를 저장할지 컴파일 타임에 미리 알 수 있어 잘못된 타입을 애초에 허용하지 않는다.
- 컴파일 중에 실수를 미리 알 수 있다는 것은 중요한 장점이자 코드의 안전성 및 생산성 향상에 큰 기여를 한다. 
- 다시 정리하면, 제네릭을 사용할 때의 이점은 다음 두 가지이다.
  1. 컴파일 시 타입을 체크할 수 있다.
  2. 캐스팅할 필요가 없어 편의성과 안전성이 향상된다.

- 제네릭이란 일반적이라는 뜻이며 타입 인수로 전달한 임의의 타입에 대해 잘 동작한다. 
- 값을 꺼낼 때 캐스팅하지 않아도 되며 잘못 캐스팅하면 컴파일 에러로 처리하여 안전하다.

<br>

### 2. 타입 인수 

- 메소드의 인수처럼 제네릭의 타입 인수도 두 가지가 있다. 
- 정의할 때는 짧고 간단한 이름을 쓰고, 선언할 때는 실제 적용할 타입을 전달한다.

1. 형식 타입 인수(Type Parameter)
   - 제네릭을 정의할 때 임의의 타입을 받을 수 있음을 표기하는 인수이며 클래스명 뒤의 <> 괄호 안에 쓴다.
   - 클래스명과 분명히 구분하기 위해 대문자 하나로 된 간략한 이름을 사용한다. 

|인수명|설명|
|---|---|
|T|Type|
|E|Element|
|K|Key|
|V|Value|
|N|Number|

2. 실 타입 인수(Type Argument)
   - 제네릭 클래스의 객체를 생성할 때 전달하는 타입이며 클래스명 뒤의 <> 괄호 안에 실제 타입을 기술한다.
   - 클래스 선언문의 형식 타입 인수 개수대로 실 타입 인수를 전달하며 실 타입 인수가 형식 타입 인수 자리에 대체된다. 

<br>

### 3. 로타입

- 자바는 역 호환성을 위해 타입 인수를 빼고 클래스명만 사용하는 로타입(Raw Type) 개념을 도입했다.
- ArrayList<T>의 로타입은 ArrayList이며 이 둘을 같이 사용할 수 있다.

<br>

### 3. 제네릭 메소드

- 제네릭 메소드는 타입 파라미터를 받아들인다. 
  - 제네릭 클래스와 개념은 유사하지만, 타입 파라미터의 범위가 메소드 내부로 국한된다는 점이 다르다.
- 생성자를 포함하여 정적, 비정적 메소드 모두 제네릭일 수 있다.
- 제네릭 메소드의 타입 인수는 리턴 타입 앞의 <> 괄호 안에 표기하며 호출할 때도 타입을 밝힌다. 
- 제네릭 메소드의 본체는 인수로 전달받는 모든 타입에 대해 동작하는 코드만 작성해야 한다. 

<br>

### 3. 제네릭의 계층

- 제네릭의 형식 타입 인수 T 자리에는 임의의 타입이 올 수 있다. 
- 그러다 보니 이 타입을 사용하는 모든 코드는 임의의 T 타입에 대해 적법해야 한다.
- 단, 하나라도 특정한 타입을 가정한 코드는 컴파일할 수 없다. 
- 메소드의 본체 코드가 특정한 타입이나 그 서브 타입만을 대상으로 할 때는 타입 인수의 범위를 제한해야 한다.
- 사용할 수 있는 타입이 제한된 타입 인수를 바운드 타입(bound type)이라고 한다.

```java
<T extends upper>
```

<br>

### 4. 와일드카드

- 제네릭의 서브 타입 관계가 복잡하고 제약이 많아 좀 더 유연한 타입이 필요하다.
- `?`은 와일드카드이며 알 수 없는 임의의 타입을 의미하며, 표현은 다음과 같다.

```java
<? extends Human>
```

